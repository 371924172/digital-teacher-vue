{"remainingRequest":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\user\\register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\user\\register.vue","mtime":1623917904000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZXhpc3QsIHJlZ2lzdGVyIH0gZnJvbSAiQC9hcGkvdXNlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgdmFsaWRhdGVVc2VybmFtZSA9IGZ1bmN0aW9uIHZhbGlkYXRlVXNlcm5hbWUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gIiIpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeeUqOaIt+WQjSIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBleGlzdChfdGhpcy51c2VyRm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzLmV4aXN0ID0gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKF90aGlzLmV4aXN0KSB7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIueUqOaIt+WQjemHjeWkjSIpKTsKICAgICAgICB9IGVsc2UgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgdmFsaWRhdGVQYXNzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXNzKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICIiKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXlr4bnoIEiKSk7CiAgICAgIH0gZWxzZSBjYWxsYmFjaygpOwogICAgfTsKCiAgICB2YXIgdmFsaWRhdGVQYXNzMiA9IGZ1bmN0aW9uIHZhbGlkYXRlUGFzczIocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gIiIpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+WGjeasoei+k+WFpeWvhueggSIpKTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gX3RoaXMudXNlckZvcm0ucGFzc3dvcmQpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuS4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtCEiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICB1c2VyRm9ybTogewogICAgICAgIGlzX3N0YWZmOiAxCiAgICAgIH0sCiAgICAgIHJlZ2lzdGVyUnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVVc2VybmFtZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICByZXBhc3N3b3JkOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MyLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcmVnaXN0ZXIoX3RoaXMyLnVzZXJGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA,SAAA,KAAA,EAAA,QAAA,QAAA,YAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AAAA;;AACA,QAAA,gBAAA,GAAA,SAAA,gBAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,QAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,SAFA;;AAGA,YAAA,KAAA,CAAA,KAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,SAFA,MAEA,QAAA;AACA;AACA,KAXA;;AAYA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,OAFA,MAEA,QAAA;AACA,KAJA;;AAKA,QAAA,aAAA,GAAA,SAAA,aAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,SAAA,CAAA,CAAA;AACA,OAFA,MAEA,IAAA,KAAA,KAAA,KAAA,CAAA,QAAA,CAAA,QAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,YAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KARA;;AASA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,QAAA,EAAA;AADA,OADA;AAIA,MAAA,aAAA,EAAA;AACA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,SAAA,EAAA,gBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,SAAA,EAAA,YAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CAFA;AAGA,QAAA,UAAA,EAAA,CAAA;AAAA,UAAA,SAAA,EAAA,aAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAHA;AAJA,KAAA;AAUA,GAtCA;AAuCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,QADA,EACA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,WAFA;AAGA,SAJA,MAIA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,iBAAA,KAAA;AACA;AACA,OATA;AAUA;AAZA;AAvCA,CAAA","sourcesContent":["<template>\n  <el-container>\n    <el-header height=\"200px\"></el-header>\n    <el-container>\n      <el-aside width=\"60%\"></el-aside>\n      <el-container>\n        <el-main height=\"100px\"\n          ><el-form\n            ref=\"userForm\"\n            :model=\"userForm\"\n            label-width=\"80px\"\n            :rules=\"registerRules\"\n            ><span> 用户注册</span>\n            <el-form-item prop=\"username\">\n              <template slot=\"label\">\n                <i class=\"el-icon-user\"></i>\n              </template>\n              <el-input\n                v-model=\"userForm.username\"\n                placeholder=\"用户名\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" prop=\"password\">\n              <template slot=\"label\">\n                <i class=\"el-icon-lock\"></i>\n              </template>\n              <el-input\n                v-model=\"userForm.password\"\n                placeholder=\"密码\"\n                type=\"password\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"确认密码\" prop=\"repassword\">\n              <template slot=\"label\">\n                <i class=\"el-icon-key\"></i>\n              </template>\n              <el-input\n                v-model=\"userForm.repassword\"\n                placeholder=\"确认密码\"\n                type=\"password\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"手机号\">\n              <template slot=\"label\">\n                <i class=\"el-icon-mobile-phone\"></i>\n              </template>\n              <el-input\n                v-model=\"userForm.mobile_phone\"\n                placeholder=\"手机号\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"电子邮件\">\n              <template slot=\"label\">\n                <i class=\"el-icon-message\"></i>\n              </template>\n              <el-input\n                v-model=\"userForm.email\"\n                placeholder=\"电子邮箱\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"姓名\">\n              <template slot=\"label\">\n                <i class=\"el-icon-tickets\"></i>\n              </template>\n              <el-input v-model=\"userForm.name\" placeholder=\"姓名\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"昵称\">\n              <template slot=\"label\">\n                <i class=\"el-icon-s-custom\"></i>\n              </template>\n              <el-input\n                v-model=\"userForm.nickname\"\n                placeholder=\"昵称\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"身份证号\">\n              <template slot=\"label\">\n                <i class=\"el-icon-postcard\"></i>\n              </template>\n              <el-input\n                v-model=\"userForm.id_card_no\"\n                placeholder=\"身份证号\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"性别\">\n              <template slot=\"label\">\n                <i class=\"el-icon-guide\"></i>\n              </template>\n              <el-radio-group v-model=\"userForm.gender\" label=\"性别\">\n                <el-radio label=\"男\" value=\"1\"></el-radio>\n                <el-radio label=\"女\" value=\"0\"></el-radio>\n              </el-radio-group>\n            </el-form-item>\n            <el-form-item label=\"出生日期\">\n              <template slot=\"label\">\n                <i class=\"el-icon-date\"></i>\n              </template>\n              <el-date-picker v-model=\"userForm.birth\" placeholder=\"出生日期\">\n              </el-date-picker\n            ></el-form-item>\n            <el-form-item label=\"简要介绍\">\n              <template slot=\"label\">\n                <i class=\"el-icon-collection\"></i>\n              </template>\n              <el-input\n                type=\"textarea\"\n                v-model=\"userForm.intro\"\n                placeholder=\"简要介绍\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"居住地址\">\n              <template slot=\"label\">\n                <i class=\"el-icon-map-location\"></i>\n              </template>\n              <el-input\n                type=\"textarea\"\n                v-model=\"userForm.present_address\"\n                placeholder=\"居住地址\"\n              ></el-input>\n            </el-form-item>\n\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"onSubmit('userForm')\"\n                >注册</el-button\n              >\n            </el-form-item>\n          </el-form></el-main\n        >\n        <el-footer></el-footer>\n      </el-container>\n    </el-container>\n  </el-container>\n</template>\n<script>\nimport { exist, register } from \"@/api/user\";\nexport default {\n  data() {\n    var validateUsername = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入用户名\"));\n      } else {\n        exist(this.userForm).then((response) => {\n          this.exist = response.data.count;\n        });\n        if (this.exist) {\n          callback(new Error(\"用户名重复\"));\n        } else callback();\n      }\n    };\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else callback();\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.userForm.password) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      userForm: {\n        is_staff: 1,\n      },\n      registerRules: {\n        username: [{ validator: validateUsername, trigger: \"blur\" }],\n        password: [{ validator: validatePass, trigger: \"blur\" }],\n        repassword: [{ validator: validatePass2, trigger: \"blur\" }],\n      },\n    };\n  },\n  methods: {\n    onSubmit(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          register(this.userForm).then((response) => {\n            console.log(response);\n          });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n<style>\n.el-input {\n  width: 300px;\n}\n</style>"],"sourceRoot":"src/views/user"}]}