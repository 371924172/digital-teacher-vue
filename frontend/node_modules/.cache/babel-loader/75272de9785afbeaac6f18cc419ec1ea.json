{"remainingRequest":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\permission.js","dependencies":[{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\permission.js","mtime":1623632790000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvWWlmYW5XYW5nL0Rlc2t0b3AvZHJhLXdhdmUvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvWWlmYW5XYW5nL0Rlc2t0b3AvZHJhLXdhdmUvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCByb3V0ZXIsIHsgY29uc3RhbnRSb3V0ZXMsIGFzeW5jUm91dGVzIH0gZnJvbSAnLi9yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnLi9zdG9yZSc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IE5Qcm9ncmVzcyBmcm9tICducHJvZ3Jlc3MnOyAvLyBwcm9ncmVzcyBiYXIKCmltcG9ydCAnbnByb2dyZXNzL25wcm9ncmVzcy5jc3MnOyAvLyBwcm9ncmVzcyBiYXIgc3R5bGUKCmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsgLy8gZ2V0IHRva2VuIGZyb20gY29va2llCgppbXBvcnQgZ2V0UGFnZVRpdGxlIGZyb20gJ0AvdXRpbHMvZ2V0LXBhZ2UtdGl0bGUnOwpOUHJvZ3Jlc3MuY29uZmlndXJlKHsKICBzaG93U3Bpbm5lcjogZmFsc2UKfSk7IC8vIE5Qcm9ncmVzcyBDb25maWd1cmF0aW9uCgp2YXIgd2hpdGVMaXN0ID0gWycvbG9naW4nLCAnL3JlZ2lzdGVyJ107IC8vIG5vIHJlZGlyZWN0IHdoaXRlbGlzdAoKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciBoYXNUb2tlbiwgc3RhdHVzLCBfeWllbGQkc3RvcmUkZGlzcGF0Y2gsIHJvbGVzLCBhY2Nlc3NSb3V0ZXM7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAvLyDlnKjpobXpnaLliqDovb3ml7bor7vlj5ZzZXNzaW9uU3RvcmFnZemHjOeahOeKtuaAgeS/oeaBrwogICAgICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgic3RvcmUiKSkgewogICAgICAgICAgICAgIHN0b3JlLnJlcGxhY2VTdGF0ZShPYmplY3QuYXNzaWduKHt9LCBzdG9yZS5zdGF0ZSwgSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJzdG9yZSIpKSkpOwogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oInN0b3JlIik7CiAgICAgICAgICAgIH0gLy8gY29uc29sZS5sb2cocm91dGVyLm9wdGlvbnMpCiAgICAgICAgICAgIC8vIHN0YXJ0IHByb2dyZXNzIGJhciAKCgogICAgICAgICAgICBOUHJvZ3Jlc3Muc3RhcnQoKTsgLy8gc2V0IHBhZ2UgdGl0bGUKCiAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gZ2V0UGFnZVRpdGxlKHRvLm1ldGEudGl0bGUpOyAvLyBkZXRlcm1pbmUgd2hldGhlciB0aGUgdXNlciBoYXMgbG9nZ2VkIGluCgogICAgICAgICAgICBoYXNUb2tlbiA9IGdldFRva2VuKCk7CgogICAgICAgICAgICBpZiAoIWhhc1Rva2VuKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoISh0by5wYXRoID09PSAnL2xvZ2luJykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGlmIGlzIGxvZ2dlZCBpbiwgcmVkaXJlY3QgdG8gdGhlIGhvbWUgcGFnZQogICAgICAgICAgICBuZXh0KHsKICAgICAgICAgICAgICBwYXRoOiAnLycKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIE5Qcm9ncmVzcy5kb25lKCk7IC8vIGhhY2s6IGh0dHBzOi8vZ2l0aHViLmNvbS9QYW5KaWFDaGVuL3Z1ZS1lbGVtZW50LWFkbWluL3B1bGwvMjkzOQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQyOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAvLyBkZXRlcm1pbmUgd2hldGhlciB0aGUgdXNlciBoYXMgb2J0YWluZWQgaGlzIHBlcm1pc3Npb24gcm9sZXMgdGhyb3VnaCBnZXRJbmZvCiAgICAgICAgICAgIC8vIGNvbnN0IGhhc1JvbGVzID0gc3RvcmUuZ2V0dGVycy5yb2xlcyAmJiBzdG9yZS5nZXR0ZXJzLnJvbGVzLmxlbmd0aCA+IDAKICAgICAgICAgICAgc3RhdHVzID0gc3RvcmUuZ2V0dGVycy5zdGF0dXM7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7CgogICAgICAgICAgICBpZiAoIXN0YXR1cykgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCEoc3RhdHVzID09ICdUcnVlJykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICBNZXNzYWdlLmVycm9yKCLor6XnlKjmiLflsJrmnKrpgJrov4flrqHmoLjvvIzor7fogZTns7vnrqHnkIblkZgiKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goInVzZXIvbG9nb3V0Iik7CgogICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQyOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjI7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCd1c2VyL2dldEluZm8nKTsKCiAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICBfeWllbGQkc3RvcmUkZGlzcGF0Y2ggPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICByb2xlcyA9IF95aWVsZCRzdG9yZSRkaXNwYXRjaC5yb2xlczsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI5OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ3Blcm1pc3Npb24vZ2VuZXJhdGVSb3V0ZXMnLCByb2xlcyk7CgogICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgYWNjZXNzUm91dGVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncm91dGVzJywgSlNPTi5zdHJpbmdpZnkoY29uc3RhbnRSb3V0ZXMuY29uY2F0KGFjY2Vzc1JvdXRlcykpKTsgLy8gZHluYW1pY2FsbHkgYWRkIGFjY2Vzc2libGUgcm91dGVzCgogICAgICAgICAgICByb3V0ZXIuYWRkUm91dGVzKGFjY2Vzc1JvdXRlcyk7IC8vIGhhY2sgbWV0aG9kIHRvIGVuc3VyZSB0aGF0IGFkZFJvdXRlcyBpcyBjb21wbGV0ZQogICAgICAgICAgICAvLyBzZXQgdGhlIHJlcGxhY2U6IHRydWUsIHNvIHRoZSBuYXZpZ2F0aW9uIHdpbGwgbm90IGxlYXZlIGEgaGlzdG9yeSByZWNvcmQKCiAgICAgICAgICAgIG5leHQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0byksIHt9LCB7CiAgICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZQogICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0MjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM1OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIyKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM5OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ3VzZXIvcmVzZXRUb2tlbicpOwoKICAgICAgICAgIGNhc2UgMzk6CiAgICAgICAgICAgIE1lc3NhZ2UuZXJyb3IoX2NvbnRleHQudDAuTWVzc2FnZSB8fCAnSGFzIEVycm9yJyk7CiAgICAgICAgICAgIG5leHQoIi9sb2dpbj9yZWRpcmVjdD0iLmNvbmNhdCh0by5wYXRoKSk7CiAgICAgICAgICAgIE5Qcm9ncmVzcy5kb25lKCk7CgogICAgICAgICAgY2FzZSA0MjoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ1OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDQ0OgogICAgICAgICAgICAvKiBoYXMgbm8gdG9rZW4qLwogICAgICAgICAgICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgIT09IC0xKSB7CiAgICAgICAgICAgICAgLy8gaW4gdGhlIGZyZWUgbG9naW4gd2hpdGVsaXN0LCBnbyBkaXJlY3RseQogICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBvdGhlciBwYWdlcyB0aGF0IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIGFyZSByZWRpcmVjdGVkIHRvIHRoZSBsb2dpbiBwYWdlLgogICAgICAgICAgICAgIG5leHQoIi9sb2dpbj9yZWRpcmVjdD0iLmNvbmNhdCh0by5wYXRoKSk7CiAgICAgICAgICAgICAgTlByb2dyZXNzLmRvbmUoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgNDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syMiwgMzVdXSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpyb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICgpIHsKICAvLyBmaW5pc2ggcHJvZ3Jlc3MgYmFyCiAgTlByb2dyZXNzLmRvbmUoKTsKfSk7"},{"version":3,"sources":["C:/Users/YifanWang/Desktop/dra-wave/frontend/src/permission.js"],"names":["router","constantRoutes","asyncRoutes","store","Message","NProgress","getToken","getPageTitle","configure","showSpinner","whiteList","beforeEach","to","from","next","sessionStorage","getItem","replaceState","Object","assign","state","JSON","parse","removeItem","start","document","title","meta","hasToken","path","done","status","getters","console","log","error","dispatch","roles","accessRoutes","setItem","stringify","concat","addRoutes","replace","indexOf","afterEach"],"mappings":"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","sourcesContent":["import router, { constantRoutes, asyncRoutes } from './router'\nimport store from './store'\nimport { Message } from 'element-ui'\nimport NProgress from 'nprogress' // progress bar\nimport 'nprogress/nprogress.css' // progress bar style\nimport { getToken } from '@/utils/auth' // get token from cookie\nimport getPageTitle from '@/utils/get-page-title'\nNProgress.configure({ showSpinner: false }) // NProgress Configuration\n\nconst whiteList = ['/login', '/register'] // no redirect whitelist\n\nrouter.beforeEach(async (to, from, next) => {\n  // 在页面加载时读取sessionStorage里的状态信息\n  if (sessionStorage.getItem(\"store\")) {\n    store.replaceState(\n      Object.assign(\n        {},\n        store.state,\n        JSON.parse(sessionStorage.getItem(\"store\"))\n      )\n    );\n    sessionStorage.removeItem(\"store\")\n  }\n  // console.log(router.options)\n  // start progress bar \n  NProgress.start()\n\n  // set page title\n  document.title = getPageTitle(to.meta.title)\n\n  // determine whether the user has logged in\n  const hasToken = getToken()\n\n  if (hasToken) {\n    if (to.path === '/login') {\n      // if is logged in, redirect to the home page\n      next({ path: '/' })\n      NProgress.done() // hack: https://github.com/PanJiaChen/vue-element-admin/pull/2939\n    } else {\n      // determine whether the user has obtained his permission roles through getInfo\n      // const hasRoles = store.getters.roles && store.getters.roles.length > 0\n      const status = store.getters.status;\n      console.log(status)\n      if (status) {\n        if (status == 'True')\n          next()\n        else {\n          Message.error(\"该用户尚未通过审核，请联系管理员\");\n          await store.dispatch(\"user/logout\");\n        }\n\n      } else {\n        try {\n          // get user info\n          // note: roles must be a object array! such as: ['admin'] or ,['developer','editor']\n          const { roles } = await store.dispatch('user/getInfo')\n          // generate accessible routes map based on roles\n          const accessRoutes = await store.dispatch('permission/generateRoutes', roles)\n          sessionStorage.setItem('routes', JSON.stringify(constantRoutes.concat(accessRoutes)))\n          // dynamically add accessible routes\n          router.addRoutes(accessRoutes)\n          // hack method to ensure that addRoutes is complete\n          // set the replace: true, so the navigation will not leave a history record\n          next({ ...to, replace: true })\n        } catch (error) {\n          // remove token and go to login page to re-login\n          await store.dispatch('user/resetToken')\n          Message.error(error.Message || 'Has Error')\n          next(`/login?redirect=${to.path}`)\n          NProgress.done()\n        }\n      }\n    }\n  } else {\n    /* has no token*/\n\n    if (whiteList.indexOf(to.path) !== -1) {\n      // in the free login whitelist, go directly\n      next()\n    } else {\n      // other pages that do not have permission to access are redirected to the login page.\n      next(`/login?redirect=${to.path}`)\n      NProgress.done()\n    }\n  }\n})\n\nrouter.afterEach(() => {\n  // finish progress bar\n  NProgress.done()\n})"]}]}