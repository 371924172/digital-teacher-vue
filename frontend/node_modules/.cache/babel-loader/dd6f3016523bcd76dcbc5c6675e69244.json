{"remainingRequest":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\user\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\user\\list.vue","mtime":1623917904000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZGVsZXRlVXNlciBhcyBfZGVsZXRlVXNlciwgZ2V0VXNlckxpc3QsIGFkZFVzZXIgfSBmcm9tICJAL2FwaS91c2VyTWFuYWdlIjsKaW1wb3J0IHsgZ2V0SW5mbywgdXBkYXRlSW5mbyB9IGZyb20gIkAvYXBpL3VzZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInByb2JsZW1MaXN0IiwKICBpbmplY3Q6IFsicmVsb2FkIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJMaXN0OiBbXSwKICAgICAgcGFnZVNpemU6IDUsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgdXNlckluZm86IHt9LAogICAgICBpZDogTnVtYmVyLAogICAgICByZWdpc3RlclJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXnlKjmiLflkI0iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgbWVzc2FnZTogIiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWvhueggSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICBtZXNzYWdlOiAiIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHJlcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fnoa7orqTlr4bnoIEiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgbWVzc2FnZTogIiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGdldFVzZXJMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy51c2VyTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHt9LAogICAgb3BlblVwZGF0ZTogZnVuY3Rpb24gb3BlblVwZGF0ZShpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGdldEluZm8oaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLnVzZXJJbmZvID0gcmVzcG9uc2UuZGF0YTsgLy8gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlcmlkIiwgdGhpcy5pZCk7CiAgICAgIH0pOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIG9wZW5DcmVhdGU6IGZ1bmN0aW9uIG9wZW5DcmVhdGUoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy51c2VySW5mbyA9IHt9OwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgfSwKICAgIC8v5b2T5YmN6aG15pS55Y+Y5pe26Kem5Y+RIOi3s+i9rOWFtuS7lumhtQogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3RlZCkge30sCiAgICBhZGRVcGRhdGVJbmZvOiBmdW5jdGlvbiBhZGRVcGRhdGVJbmZvKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnVzZXJJbmZvLnN0YXR1cykgewogICAgICAgIHVwZGF0ZUluZm8odGhpcy51c2VySW5mbykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVzZXJJbmZvLnN0YXR1cyA9ICJUcnVlIjsKICAgICAgICBhZGRVc2VyKHRoaXMudXNlckluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICB2YXIgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgaWYgKHN0YXR1cyA9PSAyMDApIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLmt7vliqDmiJDlip8iLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMy5yZWxvYWQoKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5oYW5kbGVDbG9zZSgpOwogICAgICB0aGlzLnVzZXJJbmZvID0ge307CiAgICB9LAogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gZGVsZXRlVXNlcihpZCkgewogICAgICBjb25zb2xlLmxvZyhpZCk7CgogICAgICBfZGVsZXRlVXNlcihpZCk7CgogICAgICB0aGlzLnJlbG9hZCgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA,SAAA,UAAA,IAAA,WAAA,EAAA,WAAA,EAAA,OAAA,QAAA,kBAAA;AACA,SAAA,OAAA,EAAA,UAAA,QAAA,YAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,MAAA,EAAA,CAAA,QAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,CAFA;AAGA,MAAA,WAAA,EAAA,CAHA;AAIA,MAAA,aAAA,EAAA,KAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,EAAA,EAAA,MANA;AAOA,MAAA,aAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,OAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CADA;AAKA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,OAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CALA;AASA,QAAA,UAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,OAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA;AATA;AAPA,KAAA;AAsBA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,MAAA,WAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAFA;AAGA,KALA;AAMA,IAAA,QANA,sBAMA,CAAA,CANA;AAQA,IAAA,UARA,sBAQA,EARA,EAQA;AAAA;;AACA,MAAA,OAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CADA,CAEA;AACA,OAHA;AAIA,WAAA,aAAA,GAAA,IAAA;AACA,KAdA;AAeA,IAAA,UAfA,wBAeA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAjBA;AAkBA,IAAA,WAlBA,yBAkBA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,KArBA;AAsBA,IAAA,gBAtBA,4BAsBA,GAtBA,EAsBA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,WAAA,QAAA,GAAA,GAAA;AACA,KAzBA;AA0BA;AACA,IAAA,mBA3BA,+BA2BA,GA3BA,EA2BA;AACA,WAAA,WAAA,GAAA,GAAA;AACA,KA7BA;AA8BA,IAAA,qBA9BA,iCA8BA,QA9BA,EA8BA,CAAA,CA9BA;AAgCA,IAAA,aAhCA,2BAgCA;AAAA;;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,EAAA;AACA,QAAA,UAAA,CAAA,KAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,SAFA;AAGA,OAJA,MAIA;AACA,aAAA,QAAA,CAAA,MAAA,GAAA,MAAA;AACA,QAAA,OAAA,CAAA,KAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AADA,cAEA,MAFA,GAEA,QAFA,CAEA,MAFA;AAGA,cAAA,MAAA,IAAA,GAAA,EACA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,MADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;;AAIA,UAAA,MAAA,CAAA,MAAA;AACA,SATA;AAUA;;AACA,WAAA,WAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,KApDA;AAqDA,IAAA,UArDA,sBAqDA,EArDA,EAqDA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,EAAA;;AACA,MAAA,WAAA,CAAA,EAAA,CAAA;;AACA,WAAA,MAAA;AACA;AAzDA,GA3BA;AAsFA,EAAA,OAtFA,qBAsFA;AACA,SAAA,OAAA;AACA;AAxFA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-dialog\n      title=\"用户信息\"\n      :visible.sync=\"dialogVisible\"\n      :before-close=\"handleClose\"\n      width=\"60%\"\n    >\n      <el-form\n        ref=\"userForm\"\n        :model=\"userInfo\"\n        label-width=\"80px\"\n        :rules=\"registerRules\"\n      >\n        <el-form-item label=\"用户名\">\n          <el-input v-model=\"userInfo.username\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"手机号\">\n          <el-input v-model=\"userInfo.mobile_phone\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"电子邮件\">\n          <el-input v-model=\"userInfo.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"姓名\">\n          <el-input v-model=\"userInfo.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"昵称\">\n          <el-input v-model=\"userInfo.nickname\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"身份证号\">\n          <el-input v-model=\"userInfo.id_card_no\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"性别\">\n          <el-radio-group v-model=\"userInfo.gender\" label=\"性别\">\n            <el-radio label=\"男\" value=\"1\"></el-radio>\n            <el-radio label=\"女\" value=\"0\"></el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"出生日期\">\n          <el-date-picker v-model=\"userInfo.birth\"> </el-date-picker\n        ></el-form-item>\n        <el-form-item label=\"简要介绍\">\n          <el-input type=\"textarea\" v-model=\"userInfo.intro\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"居住地址\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"userInfo.present_address\"\n          ></el-input>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"addUpdateInfo\">保存</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n\n    <el-table\n      :data=\"userList\"\n      style=\"width: 100%\"\n      @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column prop=\"username\" label=\"用户名\"></el-table-column>\n      <el-table-column prop=\"name\" label=\"真实名字\"> </el-table-column>\n      <el-table-column prop=\"mobile_phone\" label=\"手机号码\"> </el-table-column>\n      <el-table-column prop=\"email\" label=\"电子邮箱\"> </el-table-column>\n      <el-table-column label=\"操作\">\n        <!-- <el-button @click.stop=\"deleteUser(scope.row.id)\">删除</el-button> -->\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            icon=\"el-icon-edit\"\n            @click=\"openUpdate(scope.row.id)\"\n            circle\n          ></el-button>\n          <el-popover\n            ref=\"popoverDel\"\n            placement=\"bottom\"\n            width=\"160\"\n            trigger=\"click\"\n          >\n            <div>\n              <div class=\"delTip\">\n                <i class=\"el-icon-warning\" style=\"color: #e6a23c\"></i>提示\n              </div>\n              <p>此操作将永久删除该用户, 是否继续?</p>\n              <div style=\"text-align: center\">\n                <el-button\n                  type=\"primary\"\n                  size=\"mini\"\n                  @click=\"deleteUser(scope.row.id)\"\n                  >确定</el-button\n                >\n              </div>\n            </div>\n            <el-button\n              slot=\"reference\"\n              style=\"margin-left: 10px\"\n              icon=\"el-icon-delete\"\n              type=\"danger\"\n              size=\"mini\"\n              circle\n            ></el-button>\n          </el-popover>\n          <!-- <el-button\n            style=\"margin-left: 10px\"\n            v-popover:popoverDel\n            type=\"danger\"\n            size=\"mini\"\n            icon=\"el-icon-delete\"\n            circle\n          ></el-button> -->\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-button style=\"margin: 10px\" type=\"primary\" @click=\"openCreate\"\n      >创建用户</el-button\n    >\n\n    <el-pagination\n      align=\"center\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"currentPage\"\n      :page-sizes=\"[20, 50, 100]\"\n      :page-size=\"pageSize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"userList.length\"\n    >\n    </el-pagination>\n  </div>\n</template>\n<script>\nimport { deleteUser, getUserList, addUser } from \"@/api/userManage\";\nimport { getInfo, updateInfo } from \"@/api/user\";\nexport default {\n  name: \"problemList\",\n  inject: [\"reload\"],\n  data() {\n    return {\n      userList: [],\n      pageSize: 5,\n      currentPage: 1,\n      dialogVisible: false,\n      userInfo: {},\n      id: Number,\n      registerRules: {\n        username: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\n          { message: \"\", trigger: \"blur\" },\n        ],\n        password: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\n          { message: \"\", trigger: \"blur\" },\n        ],\n        repassword: [\n          { required: true, message: \"请确认密码\", trigger: \"blur\" },\n          { message: \"\", trigger: \"blur\" },\n        ],\n      },\n    };\n  },\n  methods: {\n    getData() {\n      getUserList().then((response) => {\n        this.userList = response.data;\n      });\n    },\n    onSubmit() {},\n\n    openUpdate(id) {\n      getInfo(id).then((response) => {\n        this.userInfo = response.data;\n        // sessionStorage.setItem(\"userid\", this.id);\n      });\n      this.dialogVisible = true;\n    },\n    openCreate() {\n      this.dialogVisible = true;\n    },\n    handleClose() {\n      this.dialogVisible = false;\n      this.userInfo = {};\n    },\n    handleSizeChange(val) {\n      this.currentPage = 1;\n      this.pageSize = val;\n    },\n    //当前页改变时触发 跳转其他页\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    handleSelectionChange(selected) {},\n\n    addUpdateInfo() {\n      if (this.userInfo.status) {\n        updateInfo(this.userInfo).then((response) => {\n          console.log(response);\n        });\n      } else {\n        this.userInfo.status = \"True\";\n        addUser(this.userInfo).then((response) => {\n          console.log(response);\n          const { status } = response;\n          if (status == 200)\n            this.$message({\n              message: \"添加成功\",\n              type: \"success\",\n            });\n             this.reload();\n        });\n      }\n      this.handleClose();\n      this.userInfo = {};\n    },\n    deleteUser(id) {\n      console.log(id);\n      deleteUser(id);\n      this.reload();\n    },\n  },\n  mounted() {\n    this.getData();\n  },\n};\n</script>\n<style>\n.el-tag {\n  margin-left: 5px;\n  border-style: none;\n}\n.el-input {\n  width: 6em;\n  margin-right: 1em;\n}\n</style>\n"],"sourceRoot":"src/views/user"}]}