{"remainingRequest":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\user\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\user\\detail.vue","mtime":1623917904000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEF2YXRhckNyb3BwZXIgZnJvbSAidnVlLWF2YXRhci1jcm9wcGVyIjsKaW1wb3J0ICJiYWJlbC1wb2x5ZmlsbCI7CmltcG9ydCBteVVwbG9hZCBmcm9tICJ2dWUtaW1hZ2UtY3JvcC11cGxvYWQiOwppbXBvcnQgeyBnZXRJbmZvIGFzIF9nZXRJbmZvLCB1cGRhdGVJbmZvIGFzIF91cGRhdGVJbmZvIH0gZnJvbSAiQC9hcGkvdXNlciI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VySW5mbzoge30sCiAgICAgIGlkOiBOdW1iZXIsCiAgICAgIHJlZ2lzdGVyUnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeeUqOaIt+WQjSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICBtZXNzYWdlOiAiIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5a+G56CBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1lc3NhZ2U6ICIiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcmVwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+ehruiupOWvhueggSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICBtZXNzYWdlOiAiIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHVzZXJBdmF0YXI6IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2JhY2tlbmQvYXZhdGFyLzEucG5nIiksCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgYXV0aG9yaXphdGlvbjogc3RvcmUuZ2V0dGVycy50b2tlbgogICAgICB9LAogICAgICB1cmw6ICIiCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQXZhdGFyQ3JvcHBlcjogQXZhdGFyQ3JvcHBlcgogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlVXBsb2FkZWQ6IGZ1bmN0aW9uIGhhbmRsZVVwbG9hZGVkKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsgLy8gdGhpcy51c2VyQXZhdGFyID0KICAgICAgLy8gICAiQzovL1VzZXJzLy8zNzE5Mi8vRGVza3RvcC8vZHJhLXdhdmUvL2JhY2tlbmQvL2F2YXRhci8vMS5wbmciOwogICAgfSwKICAgIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlcmlkIikpIHsKICAgICAgICB0aGlzLmlkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlcmlkIik7CiAgICAgIH0gZWxzZSBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB0aGlzLmlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkO2Vsc2UgdGhpcy5pZCA9IHN0b3JlLmdldHRlcnMudXNlcmlkOwoKICAgICAgX2dldEluZm8odGhpcy5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy51c2VySW5mbyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlcmlkIiwgX3RoaXMuaWQpOwogICAgICAgIF90aGlzLnVybCA9ICJodHRwOi8vMTI3LjAuMC4xOjgwMDAvdXNlclByb2ZpbGUvIiArIF90aGlzLmlkICsgIi9hdmF0YXIvIjsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlSW5mbzogZnVuY3Rpb24gdXBkYXRlSW5mbygpIHsKICAgICAgX3VwZGF0ZUluZm8odGhpcy51c2VySW5mbyk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImJlZm9yZXVubG9hZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlcmlkIik7CiAgICB9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEluZm8oKTsKICB9Cn07"},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA,OAAA,aAAA,MAAA,oBAAA;AACA,OAAA,gBAAA;AACA,OAAA,QAAA,MAAA,uBAAA;AACA,SAAA,OAAA,IAAA,QAAA,EAAA,UAAA,IAAA,WAAA,QAAA,YAAA;AACA,OAAA,KAAA,MAAA,SAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,EAAA,EAAA,MAFA;AAGA,MAAA,aAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,OAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CADA;AAKA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,OAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CALA;AASA,QAAA,UAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,OAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA;AATA,OAHA;AAiBA,MAAA,UAAA,EAAA,OAAA,CAAA,kCAAA,CAjBA;AAkBA,MAAA,IAAA,EAAA,KAlBA;AAmBA,MAAA,OAAA,EAAA;AACA,QAAA,aAAA,EAAA,KAAA,CAAA,OAAA,CAAA;AADA,OAnBA;AAsBA,MAAA,GAAA,EAAA;AAtBA,KAAA;AAwBA,GA1BA;AA2BA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA;AADA,GA3BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,QADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EADA,CAEA;AACA;AACA,KALA;AAMA,IAAA,OANA,qBAMA;AAAA;;AACA,UAAA,cAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAAA;AACA,aAAA,EAAA,GAAA,cAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AACA,OAFA,MAEA,IAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,EAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA,KACA,KAAA,EAAA,GAAA,KAAA,CAAA,OAAA,CAAA,MAAA;;AACA,MAAA,QAAA,CAAA,KAAA,EAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,QAAA,EAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,GAAA,GAAA,uCAAA,KAAA,CAAA,EAAA,GAAA,UAAA;AACA,OAJA;AAKA,KAhBA;AAiBA,IAAA,UAjBA,wBAiBA;AACA,MAAA,WAAA,CAAA,KAAA,QAAA,CAAA;AACA;AAnBA,GA9BA;AAmDA,EAAA,OAnDA,qBAmDA;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,cAAA,EAAA,YAAA;AACA,MAAA,cAAA,CAAA,UAAA,CAAA,QAAA;AACA,KAFA;AAGA,GAvDA;AAwDA,EAAA,OAxDA,qBAwDA;AACA,SAAA,OAAA;AACA;AA1DA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-form\n      ref=\"userForm\"\n      :model=\"userInfo\"\n      label-width=\"80px\"\n      :rules=\"registerRules\"\n    >\n      <el-form-item label=\"头像\">\n        <el-image\n          style=\"width: 100px; height: 100px\"\n          :src=\"userAvatar\"\n          :preview-src-list=\"srcList\"\n        >\n        </el-image>\n\n        <el-button id=\"pick-avatar\" style=\"margin-left: 20px\" size=\"mini\"\n          >上传头像</el-button\n        >\n        <avatar-cropper\n          @uploaded=\"handleUploaded\"\n          @upload-headers=\"headers\"\n          trigger=\"#pick-avatar\"\n          :upload-url=\"url\"\n        />\n      </el-form-item>\n      <el-form-item label=\"用户名\">\n        <el-input v-model=\"userInfo.username\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"手机号\">\n        <el-input v-model=\"userInfo.mobile_phone\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"电子邮件\">\n        <el-input v-model=\"userInfo.email\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"姓名\">\n        <el-input v-model=\"userInfo.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"昵称\">\n        <el-input v-model=\"userInfo.nickname\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"身份证号\">\n        <el-input v-model=\"userInfo.id_card_no\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"性别\">\n        <el-radio-group v-model=\"userInfo.gender\" label=\"性别\">\n          <el-radio label=\"男\" value=\"1\"></el-radio>\n          <el-radio label=\"女\" value=\"0\"></el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"出生日期\">\n        <el-date-picker v-model=\"userInfo.birth\"> </el-date-picker\n      ></el-form-item>\n      <el-form-item label=\"简要介绍\">\n        <el-input type=\"textarea\" v-model=\"userInfo.intro\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"居住地址\">\n        <el-input type=\"textarea\" v-model=\"userInfo.present_address\"></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"updateInfo()\">保存</el-button>\n        <el-button>取消</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\nimport AvatarCropper from \"vue-avatar-cropper\";\nimport \"babel-polyfill\";\nimport myUpload from \"vue-image-crop-upload\";\nimport { getInfo, updateInfo } from \"@/api/user\";\nimport store from \"@/store\";\nexport default {\n  data() {\n    return {\n      userInfo: {},\n      id: Number,\n      registerRules: {\n        username: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\n          { message: \"\", trigger: \"blur\" },\n        ],\n        password: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\n          { message: \"\", trigger: \"blur\" },\n        ],\n        repassword: [\n          { required: true, message: \"请确认密码\", trigger: \"blur\" },\n          { message: \"\", trigger: \"blur\" },\n        ],\n      },\n      userAvatar: require(\"../../../../backend/avatar/1.png\"),\n      show: false,\n      headers: {\n        authorization: store.getters.token,\n      },\n      url: \"\",\n    };\n  },\n  components: {\n    AvatarCropper,\n  },\n  methods: {\n    handleUploaded(response) {\n      console.log(response);\n      // this.userAvatar =\n      //   \"C://Users//37192//Desktop//dra-wave//backend//avatar//1.png\";\n    },\n    getInfo() {\n      if (sessionStorage.getItem(\"userid\")) {\n        this.id = sessionStorage.getItem(\"userid\");\n      } else if (this.$route.params.id) this.id = this.$route.params.id;\n      else this.id = store.getters.userid;\n      getInfo(this.id).then((response) => {\n        this.userInfo = response.data;\n        sessionStorage.setItem(\"userid\", this.id);\n        this.url = \"http://127.0.0.1:8000/userProfile/\" + this.id + \"/avatar/\";\n      });\n    },\n    updateInfo() {\n      updateInfo(this.userInfo);\n    },\n  },\n  created() {\n    window.addEventListener(\"beforeunload\", () => {\n      sessionStorage.removeItem(\"userid\");\n    });\n  },\n  mounted() {\n    this.getInfo();\n  },\n};\n</script>"],"sourceRoot":"src/views/user"}]}