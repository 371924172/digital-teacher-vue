{"remainingRequest":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\user\\assignRole.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\user\\assignRole.vue","mtime":1623917904000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0VXNlckxpc3QgYXMgX2dldFVzZXJMaXN0LCBnZXRSb2xlIGFzIF9nZXRSb2xlLCBkZWxldGVBZG1pbiBhcyBfZGVsZXRlQWRtaW4sIGFzc2lnblJvbGUgYXMgX2Fzc2lnblJvbGUgfSBmcm9tICJAL2FwaS91c2VyTWFuYWdlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyTGlzdDogW10sCiAgICAgIHJvbGVMaXN0OiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGFkbWluOiB7CiAgICAgICAgaWQ6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRSb2xlOiBmdW5jdGlvbiBnZXRSb2xlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX2dldFJvbGUoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnJvbGVMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5yb2xlTGlzdCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzc2lnblJvbGU6IGZ1bmN0aW9uIGFzc2lnblJvbGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgX2Fzc2lnblJvbGUodGhpcy5hZG1pbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICBfdGhpczIuJGZvcmNlVXBkYXRlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgY2hlY2tVc2VyKHRoaXMudXNlckxpc3QpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVBZG1pbjogZnVuY3Rpb24gZGVsZXRlQWRtaW4oaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBfZGVsZXRlQWRtaW4oaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLiRmb3JjZVVwZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRVc2VyTGlzdDogZnVuY3Rpb24gZ2V0VXNlckxpc3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgX2dldFVzZXJMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQudXNlckxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UoZG9uZSkgewogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTlhbPpl63vvJ8iKS50aGVuKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgZG9uZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoXykge30pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIHRoaXMuZ2V0Um9sZSgpOwogIH0KfTs="},{"version":3,"sources":["assignRole.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SACA,WAAA,IAAA,YADA,EAEA,OAAA,IAAA,QAFA,EAGA,WAAA,IAAA,YAHA,EAIA,UAAA,IAAA,WAJA,QAKA,kBALA;AAOA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,aAAA,EAAA,KAHA;AAIA,MAAA,KAAA,EAAA;AACA,QAAA,EAAA,EAAA;AADA;AAJA,KAAA;AAQA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,MAAA,QAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA,OAHA;AAIA,KANA;AAOA,IAAA,UAPA,wBAOA;AAAA;;AACA,MAAA,WAAA,CAAA,KAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,aAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,YAAA;AACA,OAHA;AAIA,KAZA;AAaA,IAAA,QAbA,sBAaA;AACA,MAAA,SAAA,CAAA,KAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,OAFA;AAGA,KAjBA;AAkBA,IAAA,WAlBA,uBAkBA,EAlBA,EAkBA;AAAA;;AACA,MAAA,YAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA;AACA,OAFA;AAGA,KAtBA;AAuBA,IAAA,WAvBA,yBAuBA;AAAA;;AACA,MAAA,YAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAFA;AAGA,KA3BA;AA4BA,IAAA,WA5BA,uBA4BA,IA5BA,EA4BA;AACA,WAAA,QAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,CAAA,EAAA;AACA,QAAA,IAAA;AACA,OAHA,EAIA,KAJA,CAIA,UAAA,CAAA,EAAA,CAAA,CAJA;AAKA;AAlCA,GAXA;AA+CA,EAAA,OA/CA,qBA+CA;AACA,SAAA,WAAA;AACA,SAAA,OAAA;AACA;AAlDA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-table :data=\"roleList\" style=\"width: 50%\">\n      <el-table-column prop=\"user\" label=\"管理员\"></el-table-column>\n      <el-table-column>\n        <template slot-scope=\"scope\">\n          <el-button type=\"danger\" @click=\"deleteAdmin(scope.row.id)\"\n            >移除</el-button\n          >\n        </template></el-table-column\n      >\n    </el-table>\n    <el-button type=\"primary\" @click=\"onSubmit\">确认</el-button>\n    <el-button type=\"primary\" @click=\"dialogVisible = true\">新增</el-button>\n    <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"30%\">\n      <el-select v-model=\"admin.id\" filterable placeholder=\"请选择用户\">\n        <el-option\n          v-for=\"user in userList\"\n          :key=\"user.id\"\n          :label=\"user.username\"\n          :value=\"user.id\"\n        >\n        </el-option>\n      </el-select>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"assignRole\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport {\n  getUserList,\n  getRole,\n  deleteAdmin,\n  assignRole,\n} from \"@/api/userManage\";\n\nexport default {\n  data() {\n    return {\n      userList: [],\n      roleList: [],\n      dialogVisible: false,\n      admin: {\n        id: \"\",\n      },\n    };\n  },\n  methods: {\n    getRole() {\n      getRole().then((response) => {\n        this.roleList = response.data;\n        console.log(this.roleList);\n      });\n    },\n    assignRole() {\n      assignRole(this.admin).then((response) => {\n        this.dialogVisible = false;\n        this.$forceUpdate();\n      });\n    },\n    onSubmit() {\n      checkUser(this.userList).then((response) => {\n        console.log(response);\n      });\n    },\n    deleteAdmin(id) {\n      deleteAdmin(id).then((response) => {\n        this.$forceUpdate();\n      });\n    },\n    getUserList() {\n      getUserList().then((response) => {\n        this.userList = response.data;\n      });\n    },\n    handleClose(done) {\n      this.$confirm(\"确认关闭？\")\n        .then((_) => {\n          done();\n        })\n        .catch((_) => {});\n    },\n  },\n  mounted() {\n    this.getUserList();\n    this.getRole();\n  },\n};\n</script>"],"sourceRoot":"src/views/user"}]}