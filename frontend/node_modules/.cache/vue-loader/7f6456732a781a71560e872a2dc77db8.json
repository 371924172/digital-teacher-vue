{"remainingRequest":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\problem\\edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\problem\\edit.vue","mtime":1623917904000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCndpbmRvdy5XYXZlU2tpbiA9IHJlcXVpcmUoIndhdmVkcm9tL3NraW5zL2RlZmF1bHQuanMiKTsKd2luZG93LldhdmVTa2luID0gcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2RlZmF1bHQuanMiKTsKdmFyIFdhdmVEcm9tID0gcmVxdWlyZSgid2F2ZWRyb20iKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiJkeW5hbWljRm9ybSIsCiAgcHJvcHM6IHsKICAgIGlkOiBOdW1iZXIsCiAgICBwYXJlbnRUZXh0OiBTdHJpbmcsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZHluYW1pY1ZhbGlkYXRlRm9ybTogewogICAgICAgIHNpZ25hbDogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgd2F2ZTogIiIsCiAgICAgICAgICAgIHBlcmlvZDogIiIsCiAgICAgICAgICAgIHBoYXNlOiAiIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uc2lnbmFsKTsKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgdXJsOiAiaHR0cDovLzEyNy4wLjAuMTo1MDAwL3ByZSIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgc2lnbmFsOiB0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uc2lnbmFsLAogICAgICAgIH0sCiAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMudXBkYXRlKCk7CiAgICB9LAogICAgcmVtb3Zlc2lnbmFsKGl0ZW0pIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLnNpZ25hbC5pbmRleE9mKGl0ZW0pOwogICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLnNpZ25hbC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CiAgICAgIHRoaXMudXBkYXRlKCk7CiAgICB9LAogICAgYWRkc2lnbmFsKCkgewogICAgICB0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uc2lnbmFsLnB1c2goe30pOwogICAgICB0aGlzLnVwZGF0ZSgpOwogICAgfSwKICAgIHVwZGF0ZSgpIHsKICAgICAgV2F2ZURyb20ucmVuZGVyV2F2ZUZvcm0odGhpcy5pZCwgdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLCAiYSIpOwogICAgfSwKICAgIGdldFdhdmUoKSB7CiAgICAgIHRoaXMuYXhpb3MuZ2V0KCJodHRwOi8vMTI3LjAuMC4xOjUwMDAvZ2V0V2F2ZSIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLnVwZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"edit.vue","sourceRoot":"src/views/problem","sourcesContent":["<template>\n  <div>\n    <el-form\n      :model=\"dynamicValidateForm\"\n      ref=\"dynamicValidateForm\"\n      label-width=\"100px\"\n      class=\"demo-dynamic\"\n    >\n      <el-form-item\n        v-for=\"(s, index) in dynamicValidateForm.signal\"\n        style=\"margin-bottom: 10px\"\n        :label=\"'信号' + index\"\n        :key=\"s.key\"\n        :prop=\"'signal.' + index + '.value'\"\n      >\n        <el-row :gutter=\"20\">\n          <el-col :span=\"4\"\n            ><div class=\"grid-content bg-purple\">\n              <el-input\n                v-model=\"s.name\"\n                @input=\"update\"\n                placeholder=\"信号名称\"\n              ></el-input></div\n          ></el-col>\n          <el-col :span=\"4\"\n            ><div class=\"grid-content bg-purple-light\">\n              <el-input\n                v-model=\"s.wave\"\n                @input=\"update\"\n                placeholder=\"波形数据\"\n              ></el-input></div\n          ></el-col>\n          <el-col :span=\"4\"\n            ><div class=\"grid-content bg-purple\">\n              <el-input\n                v-model=\"s.period\"\n                @input=\"update\"\n                placeholder=\"周期\"\n              ></el-input></div\n          ></el-col>\n          <el-col :span=\"4\"\n            ><div class=\"grid-content bg-purple-light\">\n              <el-input\n                v-model=\"s.phase\"\n                @input=\"update\"\n                placeholder=\"相位\"\n              ></el-input></div></el-col\n          ><el-col :span=\"1.5\"\n            ><div class=\"grid-content bg-purple-light\">\n              <el-button @click.prevent=\"removesignal(s)\">删除</el-button>\n            </div></el-col\n          >\n        </el-row>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm('dynamicValidateForm')\"\n          >提交</el-button\n        >\n        <el-button @click=\"addsignal\">新增信号</el-button>\n        <!-- <el-button @click=\"resetForm('dynamicValidateForm')\">重置</el-button> -->\n        <el-button @click=\"getWave\">get</el-button>\n      </el-form-item>\n    </el-form>\n    <div :id=\"'a' + id\"></div>\n  </div>\n</template>\n<script>\nwindow.WaveSkin = require(\"wavedrom/skins/default.js\");\nwindow.WaveSkin = require(\"../../assets/default.js\");\nvar WaveDrom = require(\"wavedrom\");\n\nexport default {\n  name:\"dynamicForm\",\n  props: {\n    id: Number,\n    parentText: String,\n  },\n  data() {\n    return {\n      dynamicValidateForm: {\n        signal: [\n          {\n            name: \"\",\n            wave: \"\",\n            period: \"\",\n            phase: \"\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    submitForm() {\n      console.log(this.dynamicValidateForm.signal);\n      this.axios({\n        method: \"post\",\n        url: \"http://127.0.0.1:5000/pre\",\n        data: {\n          signal: this.dynamicValidateForm.signal,\n        },\n      }).catch((error) => {\n        console.log(error);\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n      this.update();\n    },\n    removesignal(item) {\n      var index = this.dynamicValidateForm.signal.indexOf(item);\n      if (index !== -1) {\n        this.dynamicValidateForm.signal.splice(index, 1);\n      }\n      this.update();\n    },\n    addsignal() {\n      this.dynamicValidateForm.signal.push({});\n      this.update();\n    },\n    update() {\n      WaveDrom.renderWaveForm(this.id, this.dynamicValidateForm, \"a\");\n    },\n    getWave() {\n      this.axios.get(\"http://127.0.0.1:5000/getWave\").then((response) => {\n        console.log(response.data);\n        this.dynamicValidateForm = response.data;\n        this.update();\n      });\n    },\n  },\n}\n</script>\n\n<style>\n.el-form-item {\n  margin-bottom: 5px;\n}\n.el-col {\n  border-radius: 4px;\n}\n.bg-purple-dark {\n  background: #99a9bf;\n}\n.bg-purple {\n  background: #d3dce6;\n}\n.bg-purple-light {\n  background: #e5e9f2;\n}\n.grid-content {\n  border-radius: 4px;\n  min-height: 36px;\n}\n.row-bg {\n  padding: 10px 0;\n  background-color: #f9fafc;\n}\n</style>"]}]}