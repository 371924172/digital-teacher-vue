{"remainingRequest":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\user\\assignRole.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\user\\assignRole.vue","mtime":1623917904000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgZ2V0VXNlckxpc3QsCiAgZ2V0Um9sZSwKICBkZWxldGVBZG1pbiwKICBhc3NpZ25Sb2xlLAp9IGZyb20gIkAvYXBpL3VzZXJNYW5hZ2UiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyTGlzdDogW10sCiAgICAgIHJvbGVMaXN0OiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGFkbWluOiB7CiAgICAgICAgaWQ6ICIiLAogICAgICB9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFJvbGUoKSB7CiAgICAgIGdldFJvbGUoKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMucm9sZUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMucm9sZUxpc3QpOwogICAgICB9KTsKICAgIH0sCiAgICBhc3NpZ25Sb2xlKCkgewogICAgICBhc3NpZ25Sb2xlKHRoaXMuYWRtaW4pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgb25TdWJtaXQoKSB7CiAgICAgIGNoZWNrVXNlcih0aGlzLnVzZXJMaXN0KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQWRtaW4oaWQpIHsKICAgICAgZGVsZXRlQWRtaW4oaWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VXNlckxpc3QoKSB7CiAgICAgIGdldFVzZXJMaXN0KCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLnVzZXJMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ2xvc2UoZG9uZSkgewogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTlhbPpl63vvJ8iKQogICAgICAgIC50aGVuKChfKSA9PiB7CiAgICAgICAgICBkb25lKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKF8pID0+IHt9KTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogICAgdGhpcy5nZXRSb2xlKCk7CiAgfSwKfTsK"},{"version":3,"sources":["assignRole.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"assignRole.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n  <div>\n    <el-table :data=\"roleList\" style=\"width: 50%\">\n      <el-table-column prop=\"user\" label=\"管理员\"></el-table-column>\n      <el-table-column>\n        <template slot-scope=\"scope\">\n          <el-button type=\"danger\" @click=\"deleteAdmin(scope.row.id)\"\n            >移除</el-button\n          >\n        </template></el-table-column\n      >\n    </el-table>\n    <el-button type=\"primary\" @click=\"onSubmit\">确认</el-button>\n    <el-button type=\"primary\" @click=\"dialogVisible = true\">新增</el-button>\n    <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"30%\">\n      <el-select v-model=\"admin.id\" filterable placeholder=\"请选择用户\">\n        <el-option\n          v-for=\"user in userList\"\n          :key=\"user.id\"\n          :label=\"user.username\"\n          :value=\"user.id\"\n        >\n        </el-option>\n      </el-select>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"assignRole\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport {\n  getUserList,\n  getRole,\n  deleteAdmin,\n  assignRole,\n} from \"@/api/userManage\";\n\nexport default {\n  data() {\n    return {\n      userList: [],\n      roleList: [],\n      dialogVisible: false,\n      admin: {\n        id: \"\",\n      },\n    };\n  },\n  methods: {\n    getRole() {\n      getRole().then((response) => {\n        this.roleList = response.data;\n        console.log(this.roleList);\n      });\n    },\n    assignRole() {\n      assignRole(this.admin).then((response) => {\n        this.dialogVisible = false;\n        this.$forceUpdate();\n      });\n    },\n    onSubmit() {\n      checkUser(this.userList).then((response) => {\n        console.log(response);\n      });\n    },\n    deleteAdmin(id) {\n      deleteAdmin(id).then((response) => {\n        this.$forceUpdate();\n      });\n    },\n    getUserList() {\n      getUserList().then((response) => {\n        this.userList = response.data;\n      });\n    },\n    handleClose(done) {\n      this.$confirm(\"确认关闭？\")\n        .then((_) => {\n          done();\n        })\n        .catch((_) => {});\n    },\n  },\n  mounted() {\n    this.getUserList();\n    this.getRole();\n  },\n};\n</script>"]}]}