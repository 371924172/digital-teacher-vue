{"remainingRequest":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\problem\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\problem\\list.vue","mtime":1623917904000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldExpc3QsIGdldFB0YWdMaXN0LCBQdGFnQ29sb3IgfSBmcm9tICJAL2FwaS9wcm9ibGVtIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicHJvYmxlbUxpc3QiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hOYW1lOiAiIiwKICAgICAgc2VhcmNoVGFnOiAiIiwKICAgICAgc2VhcmNoRGlmZjogIiIsCiAgICAgIHBhZ2VTaXplOiA1LAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcHJvYmxlbUxpc3Q6IFtdLAogICAgICBwdGFnTGlzdDogW10sCgogICAgICAvLyBkaWZmaWN1bHR5TGlzdDogWyLnroDljZUiLCAi6YCC5LitIiwgIuWbsOmaviJdLAogICAgICBkaWZmaWN1bHR5TGlzdDogWwogICAgICAgIHsgaWQ6IDAsIGxhYmVsOiAi566A5Y2VIiB9LAogICAgICAgIHsgaWQ6IDEsIGxhYmVsOiAi6YCC5LitIiB9LAogICAgICAgIHsgaWQ6IDIsIGxhYmVsOiAi5Zuw6Zq+IiB9LAogICAgICBdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGEoKSB7CiAgICAgIGdldExpc3QoKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5wcm9ibGVtTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgZ2V0UHRhZ0xpc3QoKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMucHRhZ0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBnZXREZXRhaWwoKSB7CiAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogImRldGFpbCIsIHF1ZXJ5OiB7IGlkOiByb3cuaWQgfSB9KTsKICAgIC8vIH0sCiAgICBmb3JtYXREaWZmaWN1bHR5KHJvdykgewogICAgICAvLyByZXR1cm4gdGhpcy5kaWZmaWN1bHR5TGlzdFtyb3cuZGlmZmljdWx0eV07CiAgICAgIHZhciBkaWZmaWN1bHR5ID0gdGhpcy5kaWZmaWN1bHR5TGlzdC5maW5kKChkKSA9PiB7CiAgICAgICAgcmV0dXJuIGQuaWQgPT0gcm93LmRpZmZpY3VsdHk7CiAgICAgIH0pOwogICAgICByZXR1cm4gZGlmZmljdWx0eS5sYWJlbDsKICAgIH0sCiAgICBmaWx0ZXJIYW5kbGVyKHZhbHVlLCByb3csIGNvbHVtbikgewogICAgICBjb25zdCBwcm9wZXJ0eSA9IGNvbHVtblsicHJvcGVydHkiXTsKICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlOwogICAgfSwKICAgIHNlYXJjaCgpIHsKICAgICAgdGhpcy5wcm9ibGVtTGlzdDsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0ZWQpIHt9LAoKICAgIC8v5q+P6aG15p2h5pWw5pS55Y+Y5pe26Kem5Y+RIOmAieaLqeS4gOmhteaYvuekuuWkmuWwkeihjAogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICB9LAogICAgLy/lvZPliY3pobXmlLnlj5jml7bop6blj5Eg6Lez6L2s5YW25LuW6aG1CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgfSwKCiAgICBmb3JtYXRUYWcoaWQpIHsKICAgICAgaWYgKGlkKSB7CiAgICAgICAgdmFyIHRhZyA9IHRoaXMucHRhZ0xpc3QuZmluZCgodCkgPT4gewogICAgICAgICAgcmV0dXJuIHQuaWQgPT0gaWQ7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRhZy5uYW1lOwogICAgICB9IGVsc2UgcmV0dXJuICLlsJrmnKrliIbphY3moIfnrb4iOwogICAgfSwKICAgIHRhZ0NvbG9yKGl0ZW0pIHsKICAgICAgcmV0dXJuIFB0YWdDb2xvcltpdGVtXTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXREYXRhKCk7CiAgfSwKfTsK"},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/problem","sourcesContent":["<template>\n  <div>\n    <el-row>\n      <el-col :span=\"14\">\n        <el-input\n          v-model=\"searchName\"\n          size=\"mini\"\n          placeholder=\"输入关键字搜索\"\n          style=\"width: 180px; margin: 10px\"\n          prefix-icon=\"el-icon-search\"\n        ></el-input\n        ></el-col>\n      <el-col :span=\"1.5\">\n        <el-select\n          v-model=\"searchTag\"\n          placeholder=\"标签\"\n          multiple\n          size=\"mini\"\n          :clearable=\"true\"\n          style=\"margin-top: 10px\"\n        >\n          <el-option\n            v-for=\"item in ptagList\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\"\n          >\n          </el-option>\n        </el-select> </el-col\n      ><el-col :span=\"1.5\"\n    ><el-select\n      v-model=\"searchDiff\"\n      placeholder=\"难度\"\n      size=\"mini\"\n      style=\"margin-top: 10px\"\n    >\n      <el-option\n        v-for=\"item in difficultyList\"\n        :key=\"item.id\"\n        :label=\"item.label\"\n        :value=\"item.id\"\n      >\n      </el-option> </el-select\n    ></el-col>\n    </el-row>\n\n    <el-table\n      :data=\"\n        problemList\n          .filter(\n            (data) =>\n              !search ||\n              (data.name.toLowerCase().includes(searchName.toLowerCase()) &&\n                data.ptag.includes(searchTag) &&\n                data.difficulty.toString().includes(searchDiff))\n          )\n          .slice((currentPage - 1) * pageSize, currentPage * pageSize)\n      \"\n      style=\"width: 100%\"\n      @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column type=\"selection\" width=\"60\"> </el-table-column>\n      <el-table-column prop=\"problem_id\" label=\"题号\" width=\"100\">\n      </el-table-column>\n      <el-table-column label=\"名称\" width=\"300\">\n        <template slot-scope=\"scope\">\n          <router-link\n            :to=\"{ name: 'problemDetail', query: { id: scope.row.id } }\"\n          >\n            {{ scope.row.name }}\n          </router-link>\n        </template>\n      </el-table-column>\n      <el-table-column prob=\"ptag\" label=\"标签\">\n        <template slot-scope=\"scope\">\n          <el-tag\n            v-for=\"item in scope.row.ptag.split(',')\"\n            :key=\"item.index\"\n            size=\"mini\"\n            :color=\"tagColor(item)\"\n            effect=\"dark\"\n          >\n            {{ formatTag(item) }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"difficulty\"\n        label=\"难度\"\n        :filters=\"[\n          { text: '简单', value: '0' },\n          { text: '适中', value: '1' },\n          { text: '困难', value: '2' },\n        ]\"\n        :filter-method=\"filterHandler\"\n        :formatter=\"formatDifficulty\"\n      >\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      align=\"center\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"currentPage\"\n      :page-sizes=\"[20, 50, 100]\"\n      :page-size=\"pageSize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"problemList.length\"\n    >\n    </el-pagination>\n  </div>\n</template>\n<script>\n  import { getList, getPtagList, PtagColor } from \"@/api/problem\";\n\n  export default {\n    name: \"problemList\",\n    data() {\n      return {\n        searchName: \"\",\n        searchTag: \"\",\n        searchDiff: \"\",\n        pageSize: 5,\n        currentPage: 1,\n        problemList: [],\n        ptagList: [],\n\n        // difficultyList: [\"简单\", \"适中\", \"困难\"],\n        difficultyList: [\n          { id: 0, label: \"简单\" },\n          { id: 1, label: \"适中\" },\n          { id: 2, label: \"困难\" },\n        ],\n      };\n    },\n    methods: {\n      getData() {\n        getList()\n          .then((response) => {\n            this.problemList = response.data;\n            console.log(response.data);\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n        getPtagList().then((response) => {\n          this.ptagList = response.data;\n        });\n      },\n      // getDetail() {\n      //   this.$router.push({ path: \"detail\", query: { id: row.id } });\n      // },\n      formatDifficulty(row) {\n        // return this.difficultyList[row.difficulty];\n        var difficulty = this.difficultyList.find((d) => {\n          return d.id == row.difficulty;\n        });\n        return difficulty.label;\n      },\n      filterHandler(value, row, column) {\n        const property = column[\"property\"];\n        return row[property] === value;\n      },\n      search() {\n        this.problemList;\n      },\n      handleSelectionChange(selected) {},\n\n      //每页条数改变时触发 选择一页显示多少行\n      handleSizeChange(val) {\n        this.currentPage = 1;\n        this.pageSize = val;\n      },\n      //当前页改变时触发 跳转其他页\n      handleCurrentChange(val) {\n        this.currentPage = val;\n      },\n\n      formatTag(id) {\n        if (id) {\n          var tag = this.ptagList.find((t) => {\n            return t.id == id;\n          });\n          return tag.name;\n        } else return \"尚未分配标签\";\n      },\n      tagColor(item) {\n        return PtagColor[item];\n      },\n    },\n    mounted() {\n      this.getData();\n    },\n  };\n</script>\n<style>\n  .el-tag {\n    margin-left: 5px;\n    border-style: none;\n  }\n  .el-input {\n    width: 6em;\n    margin-right: 1em;\n  }\n</style>\n"]}]}