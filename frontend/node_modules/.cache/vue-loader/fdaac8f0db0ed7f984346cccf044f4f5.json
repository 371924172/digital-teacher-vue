{"remainingRequest":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\class\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\src\\views\\class\\list.vue","mtime":1624372380953},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YifanWang\\Desktop\\dra-wave\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRlbGV0ZUNsYXNzLCBnZXRDbGFzc0xpc3QsIGFkZENsYXNzIH0gZnJvbSAiQC9hcGkvY2xhc3MiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJwcm9ibGVtTGlzdCIsCiAgaW5qZWN0OiBbInJlbG9hZCJdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjbGFzc0xpc3Q6IFtdLAogICAgICBwYWdlU2l6ZTogNSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBjbGFzc0luZm86IHt9LAogICAgICBpZDogTnVtYmVyLAogICAgICByZWdpc3RlclJ1bGVzOiB7CiAgICAgICAgY2xhc3NuYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl55So5oi35ZCNIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7IG1lc3NhZ2U6ICIiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICBdLAogICAgICAgIHBhc3N3b3JkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5a+G56CBIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7IG1lc3NhZ2U6ICIiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICBdLAogICAgICAgIHJlcGFzc3dvcmQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fnoa7orqTlr4bnoIEiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsgbWVzc2FnZTogIiIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YSgpIHsKICAgICAgZ2V0Q2xhc3NMaXN0KCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmNsYXNzTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0KCkge30sCgogICAgb3BlblVwZGF0ZShpZCkgewogICAgICBnZXRJbmZvKGlkKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMuY2xhc3NJbmZvID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAvLyBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJjbGFzc2lkIiwgdGhpcy5pZCk7CiAgICAgIH0pOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIG9wZW5DcmVhdGUoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlQ2xvc2UoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLmNsYXNzSW5mbyA9IHt9OwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgfSwKICAgIC8v5b2T5YmN6aG15pS55Y+Y5pe26Kem5Y+RIOi3s+i9rOWFtuS7lumhtQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0ZWQpIHt9LAogICAgYWRkVXBkYXRlSW5mbygpIHsKICAgICAgaWYgKHRoaXMuY2xhc3NJbmZvLnN0YXR1cykgewogICAgICAgIHVwZGF0ZUluZm8odGhpcy5jbGFzc0luZm8pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jbGFzc0luZm8uc3RhdHVzID0gIlRydWUiOwogICAgICAgIGFkZENsYXNzKHRoaXMuY2xhc3NJbmZvKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc3QgeyBzdGF0dXMgfSA9IHJlc3BvbnNlOwogICAgICAgICAgaWYgKHN0YXR1cyA9PSAyMDApCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICLmt7vliqDmiJDlip8iLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICB0aGlzLnJlbG9hZCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKTsKICAgICAgdGhpcy5jbGFzc0luZm8gPSB7fTsKICAgIH0sCiAgICBkZWxldGVDbGFzcyhpZCkgewogICAgICBkZWxldGVDbGFzcyhpZCk7CiAgICAgIHRoaXMucmVsb2FkKCk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCn07Cg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/class","sourcesContent":["<template>\n  <div>\n    <el-dialog\n      title=\"班级信息\"\n      :visible.sync=\"dialogVisible\"\n      :before-close=\"handleClose\"\n      width=\"60%\"\n    >\n      <el-form\n        ref=\"classForm\"\n        :model=\"classInfo\"\n        label-width=\"80px\"\n        :rules=\"registerRules\"\n      >\n        <el-form-item label=\"班级ID\">\n          <el-input v-model=\"classInfo.classID\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"所在学院\">\n          <el-input v-model=\"classInfo.college\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"所属专业\">\n          <el-input v-model=\"classInfo.major\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"班级名称\">\n          <el-input v-model=\"classInfo.className\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"成立时间\">\n          <el-date-picker v-model=\"userInfo.birth\"> </el-date-picker\n        ></el-form-item>\n        <el-form-item label=\"学习年数\">\n          <el-input  v-model=\"classInfo.year\" > </el-input>\n        </el-form-item>\n        <el-form-item label=\"班级说明\">\n          <el-input type=\"textarea\" v-model=\"classInfo.intro\"></el-input>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"addUpdateInfo\">保存</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n\n    <el-table\n      :data=\"classList\"\n      style=\"width: 100%\"\n      @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column prop=\"className\" label=\"班级名称\"></el-table-column>\n      <el-table-column prop=\"college\" label=\"所在学院\"> </el-table-column>\n      <el-table-column prop=\"major\" label=\"所属专业\"> </el-table-column>\n      <el-table-column prop=\"year\" label=\"学习年数\"> </el-table-column>\n      <el-table-column label=\"操作\">\n        <!-- <el-button @click.stop=\"deleteClass(scope.row.id)\">删除</el-button> -->\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            icon=\"el-icon-edit\"\n            @click=\"openUpdate(scope.row.id)\"\n            circle\n          ></el-button>\n          <el-popover\n            ref=\"popoverDel\"\n            placement=\"bottom\"\n            width=\"160\"\n            trigger=\"click\"\n          >\n            <div>\n              <div class=\"delTip\">\n                <i class=\"el-icon-warning\" style=\"color: #e6a23c\"></i>提示\n              </div>\n              <p>此操作将永久删除该班级, 是否继续?</p>\n              <div style=\"text-align: center\">\n                <el-button\n                  type=\"primary\"\n                  size=\"mini\"\n                  @click=\"deleteClass(scope.row.id)\"\n                  >确定</el-button\n                >\n              </div>\n            </div>\n            <el-button\n              slot=\"reference\"\n              style=\"margin-left: 10px\"\n              icon=\"el-icon-delete\"\n              type=\"danger\"\n              size=\"mini\"\n              circle\n            ></el-button>\n          </el-popover>\n          <!-- <el-button\n            style=\"margin-left: 10px\"\n            v-popover:popoverDel\n            type=\"danger\"\n            size=\"mini\"\n            icon=\"el-icon-delete\"\n            circle\n          ></el-button> -->\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-button style=\"margin: 10px\" type=\"primary\" @click=\"openCreate\"\n      >创建班级</el-button\n    >\n\n    <el-pagination\n      align=\"center\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"currentPage\"\n      :page-sizes=\"[20, 50, 100]\"\n      :page-size=\"pageSize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"classList.length\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n\n<script>\nimport { deleteClass, getClassList, addClass } from \"@/api/class\";\n\nexport default {\n  name: \"problemList\",\n  inject: [\"reload\"],\n  data() {\n    return {\n      classList: [],\n      pageSize: 5,\n      currentPage: 1,\n      dialogVisible: false,\n      classInfo: {},\n      id: Number,\n      registerRules: {\n        classname: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\n          { message: \"\", trigger: \"blur\" },\n        ],\n        password: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\n          { message: \"\", trigger: \"blur\" },\n        ],\n        repassword: [\n          { required: true, message: \"请确认密码\", trigger: \"blur\" },\n          { message: \"\", trigger: \"blur\" },\n        ],\n      },\n    };\n  },\n  methods: {\n    getData() {\n      getClassList().then((response) => {\n        this.classList = response.data;\n      });\n    },\n    onSubmit() {},\n\n    openUpdate(id) {\n      getInfo(id).then((response) => {\n        this.classInfo = response.data;\n        // sessionStorage.setItem(\"classid\", this.id);\n      });\n      this.dialogVisible = true;\n    },\n    openCreate() {\n      this.dialogVisible = true;\n    },\n    handleClose() {\n      this.dialogVisible = false;\n      this.classInfo = {};\n    },\n    handleSizeChange(val) {\n      this.currentPage = 1;\n      this.pageSize = val;\n    },\n    //当前页改变时触发 跳转其他页\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    handleSelectionChange(selected) {},\n    addUpdateInfo() {\n      if (this.classInfo.status) {\n        updateInfo(this.classInfo).then((response) => {\n        });\n      } else {\n        this.classInfo.status = \"True\";\n        addClass(this.classInfo).then((response) => {\n          const { status } = response;\n          if (status == 200)\n            this.$message({\n              message: \"添加成功\",\n              type: \"success\",\n            });\n             this.reload();\n        });\n      }\n      this.handleClose();\n      this.classInfo = {};\n    },\n    deleteClass(id) {\n      deleteClass(id);\n      this.reload();\n    },\n  },\n  mounted() {\n    this.getData();\n  },\n};\n</script>\n<style>\n.el-tag {\n  margin-left: 5px;\n  border-style: none;\n}\n.el-input {\n  width: 6em;\n  margin-right: 1em;\n}\n</style>\n\n"]}]}